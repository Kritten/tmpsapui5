<core:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m" controllerName="ag.bpc.Deka.controller.KonditioneneinigungSelektion"
	xmlns:html="http://www.w3.org/1999/xhtml">
	<Page title="Konditioneneinigung (Selektion)" showNavButton="true"
		navButtonPress="onBack">
		<content>

			<Panel class="sapUiDemoFlexBoxSizeAdjustments">
				<headerToolbar>
					<Toolbar>
						<Title level="H3" text="{i18n>KOND_SEL_PANEL_TITLE_ANL}" />
					</Toolbar>
				</headerToolbar>
				<FlexBox alignItems="Start" justifyContent="Start">
					<items>
						<RadioButtonGroup id = "RBG_Anlage">
							<buttons>
								<RadioButton text="{i18n>KOND_SEL_RBG_O1}" />
								<RadioButton text="{i18n>KOND_SEL_RBG_O2}" />
							</buttons>
						</RadioButtonGroup>
						<Button text="{i18n>KOND_SEL_BTN_ANL}" press="onAnlegenPress" />
					</items>
				</FlexBox>
			</Panel>

			<Panel class="sapUiDemoFlexBoxSizeAdjustments">
				<headerToolbar>
					<Toolbar>
						<Title level="H3" text="{i18n>KOND_SEL_PANEL_TITLE_AUS}" />
					</Toolbar>
				</headerToolbar>

				<ComboBox id = "cb_work" selectedKey = "work" selectionChange = "onComboBoxChange">
					<items>
						<core:Item key="all" text="{i18n>KOND_SEL_DD_ALL}" />
						<core:Item key="work" text="{i18n>KOND_SEL_DD_WORK}" />
					</items>
				</ComboBox>

				<FacetFilter id="idFacetFilter" showPersonalization="true" reset="onhandleFacetFilterReset">
					<lists>
						<FacetFilterList title="ID"
							multiselect="true" listClose="handleListClose" items="{kondSel>/data}">
							<items>
								<FacetFilterItem text="{kondSel>id}" key="{kondSel>id}"
									count="{data}" />
									
							</items>
						</FacetFilterList>
						<FacetFilterList title="Mietbeginn"
							multiselect="true" listClose="handleListClose" items="{kondSel>/data}">
							<items>
								<FacetFilterItem text="{
										path: 'kondSel>mietbegin',
										type: 'sap.ui.model.type.Date',
										formatOptions: {
											style: 'short'
										}
								}" key="{kondSel>mietbegin}"
									count="{data}" />
									
							</items>
						</FacetFilterList>
					</lists>
				</FacetFilter>

				<Table id="idKondSelTable" inset="false" 
				itemPress="onItemPress" items="{ path: 'kondSel>/data' }">
					<headerToolbar>
						<Toolbar>
							<Title text="{i18n>KOND_SEL_TAB_TITLE}" level="H4" />
						</Toolbar>
					</headerToolbar>
					<columns>
						<Column minScreenWidth="Tablet" mergeDuplicates="true" mergeFunctionName="getSrc">
							<Text text="{i18n>KOND_SEL_TAB_FAV}" />
						</Column>
						<Column minScreenWidth="Tablet" mergeDuplicates="true">
							<Text text="{i18n>KOND_SEL_TAB_ID}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_MB}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_LZ}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_GB}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_MF}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_BZ}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_NA}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_HF}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_AM}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_GA}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>KOND_SEL_TAB_MA}" />
						</Column>
					</columns>

					<items>
						<ColumnListItem type="Navigation">
							<cells>
								<core:Icon src="{= (${kondSel>favorit} === true) ? 'sap-icon://favorite' : 'sap-icon://unfavorite' }" />
								
								
								<Text text="{kondSel>id}" />
								<Text text="{
										path: 'kondSel>mietbegin',
										type: 'sap.ui.model.type.Date',
										formatOptions: {
											style: 'short'
										}
								}" />
								<Text text="{
										path: 'kondSel>laufzeit',
										type: 'sap.ui.model.type.Integer',
										formatOptions: {
											maxIntegerDigits: 5
										}
								}" />	
								<Text text="{
										path: 'kondSel>gueltig_bis',
										type: 'sap.ui.model.type.Date',
										formatOptions: {
											style: 'short'
										}
								}" />
								<Text text="{kondSel>mietflaeche}" />
								<Text text="{kondSel>bezeichnung}" />
								<Text text="{kondSel>nutzungsart}" />
								<Text text="{
										path: 'kondSel>hauptnutzfl',
										type: 'sap.ui.model.type.Float',
										formatOptions: {
											minIntegerDigits : 2, 
											minFractionDigits : 2, 
											groupingEnabled : true, 
											groupingSeparator : '.', 
											decimalSeparator : ',' 
										}
								}" />
								<Text text="{
										path: 'kondSel>angebotsmiete',
										type: 'sap.ui.model.type.Float',
										formatOptions: {
											minIntegerDigits : 2, 
											minFractionDigits : 2, 
											groupingEnabled : true, 
											groupingSeparator : '.', 
											decimalSeparator : ',' 
										}
								}" />
								<Text text="{
										path: 'kondSel>grundausbau',
										type: 'sap.ui.model.type.Float',
										formatOptions: {
											minIntegerDigits : 2, 
											minFractionDigits : 2, 
											groupingEnabled : true, 
											groupingSeparator : '.', 
											decimalSeparator : ',' 
										}
								}" />
								<Text text="{
										path: 'kondSel>mieterausbau',
										type: 'sap.ui.model.type.Float',
										formatOptions: {
											minIntegerDigits : 2, 
											minFractionDigits : 2, 
											groupingEnabled : true, 
											groupingSeparator : '.', 
											decimalSeparator : ',' 
										}
								}" />
							</cells>
						</ColumnListItem>
					</items>
				</Table>




			</Panel>


		</content>
	</Page>
</core:View>