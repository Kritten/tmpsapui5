<mvc:View
    controllerName="ag.bpc.Deka.controller.KonditioneneinigungGenehmigung"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc">
    
	<Page 
        id="idKonditioneneinigungGenehmigung"
        title="Konditioneneinigung Genehmigung" 
        class="sapUiFioriObjectPage" 
        showNavButton="{= ${form>/modus} === 'show' }"
        navButtonPress="onBack">

        <headerContent>
			<Button icon="sap-icon://edit" text="{i18n>BEARBEITEN}" press="onBearbeitenButtonPress" visible="{= ${form>/modus} === 'show' }" />
		</headerContent>

        <content>

            <List id="stufenList" items="{ path: 'form>/stufen', templateShareable: true }" backgroundDesign="Transparent" showSeparators="None">
                <CustomListItem>

                    <Table items="{ path: 'form>genehmigungen', templateShareable: true }" inset="true">

                        <headerToolbar>
                            <Toolbar>
                                <Title text="{form>Stufe}" />
                            </Toolbar>
                        </headerToolbar>

                        <columns>
                            <Column width="40%">
                                <Text text="Genehmiger" />
                            </Column>
                            <Column width="60%">
                                <Text text="Status" />
                            </Column>
                        </columns>

                        <items>
                            <ColumnListItem vAlign="Middle">                                
                                <Select selectedKey="{form>Genehmiger}" items="{ path: 'form>available', templateShareable: true }" enabled="{= ${form>/modus} === 'edit'}" autoAdjustWidth="false" width="100%">
                                    <core:Item key="{form>Moegliche_Genehmiger}" text="{form>Name}" />
                                    <layoutData>
                                        <l:GridData span="L8 M8 S12" />
                                    </layoutData>
                                </Select>
                                <!--<Text text="{form>Genehmiger}">
                                    <layoutData>
                                        <l:GridData span="L8 M8 S12" />
                                    </layoutData>
                                </Text>-->
                                <Text text="{form>Status}" />
                                
                            </ColumnListItem>
                        </items>

                    </Table>

                </CustomListItem>
            </List>

        </content>
        
        <footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button text="{i18n>SPEICHERN}" icon="sap-icon://accept" type="Accept" press="onSpeichernButtonPress" visible="{= ${form>/modus} === 'edit' }" >
                    <layoutData><OverflowToolbarLayoutData moveToOverflow="false" /></layoutData>
                </Button>
                <Button text="{i18n>ABBRECHEN}" icon="sap-icon://decline" type="Reject" press="onAbbrechenButtonPress" visible="{= ${form>/modus} === 'edit' }" >
                    <layoutData><OverflowToolbarLayoutData moveToOverflow="false" /></layoutData>
                </Button>
            </OverflowToolbar>
        </footer>

	</Page>
            
</mvc:View>