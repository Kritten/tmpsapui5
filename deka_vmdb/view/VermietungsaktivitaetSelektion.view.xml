<core:View 
	xmlns:core="sap.ui.core" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m"
	xmlns:html="http://www.w3.org/1999/xhtml"
	controllerName="ag.bpc.Deka.controller.VermietungsaktivitaetSelektion" >
	
	<Page title="{i18n>VERM_SEL_TITLE}"  showNavButton="true" navButtonPress="onBack" class="sapUiFioriObjectPage">
		<content>
				
			<Panel>
				<headerToolbar>
					<Toolbar>
						<Title level="H3" text="{i18n>VERM_SEL_PANEL_TITLE_ANL}" />
					</Toolbar>
				</headerToolbar>

				<FlexBox>
					<items>

						<FlexBox justifyContent="Start">
							<items>
								<RadioButtonGroup select="onRadioButtonGroupSelect" selectedIndex="{vermSel>/selectedRadioButtonGroupIndex}" columns="4">
									<buttons>
										<RadioButton text="{i18n>VERM_SEL_ANLAGE_REGELVERMIETUNG}" tooltip="{i18n>VERM_SEL_ANLAGE_REGELVERMIETUNG_TOOLTIP}" />
										<RadioButton text="{i18n>VERM_SEL_ANLAGE_KLEINVERMIETUNG}" tooltip="{i18n>VERM_SEL_ANLAGE_KLEINVERMIETUNG_TOOLTIP}" />
										<RadioButton text="{i18n>VERM_SEL_ANLAGE_EXTERNEVERMIETUNG}" tooltip="{i18n>VERM_SEL_ANLAGE_EXTERNEVERMIETUNG_TOOLTIP}" />
										<RadioButton text="{i18n>VERM_SEL_ANLAGE_EXCEL_UPLOAD}" tooltip="{i18n>VERM_SEL_ANLAGE_EXCEL_UPLOAD_TOOLTIP}" />
									</buttons>
								</RadioButtonGroup>
							</items>

							<layoutData>
								<FlexItemData growFactor="1" />
							</layoutData>
						</FlexBox>

						<FlexBox justifyContent="End" alignItems="End">
							<items>
								<Button id="idAnlegenButton" text="{i18n>ANLEGEN}" press="onAnlegenPress" />
							</items>

							<layoutData>
								<FlexItemData growFactor="1" />
							</layoutData>
						</FlexBox>

					</items>
				</FlexBox>
			</Panel>

			<Panel>
				<headerToolbar>
					<Toolbar>
						<Title level="H3" text="{i18n>VERM_SEL_PANEL_TITLE_AUS}" />
					</Toolbar>
				</headerToolbar>
				
				<FacetFilter id="idFacetFilter" reset="onFacetFilterReset" lists="{vermSel>/facetfilters}" type="Simple" >
					<lists>
						<FacetFilterList title="{vermSel>filterName}" items="{path: 'vermSel>values', templateShareable: true }" listClose="onFacetFilterListClose" >
							<items>
								<FacetFilterItem text="{vermSel>text}" key="{vermSel>key}" />
							</items>
						</FacetFilterList>
					</lists>
				</FacetFilter>
				
				<Table id="idVermSelTable" inset="false" itemPress="onItemPress" items="{vermSel>/data}">
					<headerToolbar>
						<Toolbar>
							<Title text="{i18n>VERMIETUNGSAKTIVITAETEN}" level="H4" />
						</Toolbar>
					</headerToolbar>
					<columns>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>FAVORIT}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>ID}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>MIETBEGINN}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>LAUFZEIT} {i18n>IN_MONATEN}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>GUELTIG_BIS}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>BEZEICHNUNG}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>NUTZUNGSART}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>HAUPTNUTZFLAECHE}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>ANGEBOTSMIETE}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>GRUNDAUSBAUKOSTEN}" />
						</Column>
						<Column minScreenWidth="Tablet">
							<Text text="{i18n>MIETERAUSBAUKOSTEN}" />
						</Column>
					</columns>

					<items>
						<ColumnListItem type="Navigation">
							<cells>
								<core:Icon src="{= (${vermSel>Favorit} === true) ? 'sap-icon://favorite' : 'sap-icon://unfavorite' }" />
								
								<Text text="{vermSel>VaId}" />
								<Text text="{
										path: 'vermSel>Mietbeginn',
										type: 'sap.ui.model.type.Date',
										formatOptions: {
											style: 'short'
										}
								}" />
								<Text text="{
										path: 'vermSel>LzFirstbreak',
										type: 'sap.ui.model.type.Integer',
										formatOptions: {
											maxIntegerDigits: 5
										}
								}" />	
								<Text text="(GÃ¼ltig bis)" />
								<Text text="{vermSel>Bezeichnung}" />
								<Text text="{vermSel>VaToOb/Nutzart}" />
								<Text text="{
										path: 'vermSel>VaToOb/Hnfl',
										type: 'sap.ui.model.type.Float',
										formatOptions: {
											minIntegerDigits : 2, 
											minFractionDigits : 2, 
											groupingEnabled : true, 
											groupingSeparator : '.', 
											decimalSeparator : ',' 
										}
								}" />
								<Text text="{
										path: 'vermSel>VaToOb/AnMiete',
										type: 'sap.ui.model.type.Float',
										formatOptions: {
											minIntegerDigits : 2, 
											minFractionDigits : 2, 
											groupingEnabled : true, 
											groupingSeparator : '.', 
											decimalSeparator : ',' 
										}
								}" />
								<Text text="{
										path: 'vermSel>VaToOb/GaKosten',
										type: 'sap.ui.model.type.Float',
										formatOptions: {
											minIntegerDigits : 2, 
											minFractionDigits : 2, 
											groupingEnabled : true, 
											groupingSeparator : '.', 
											decimalSeparator : ',' 
										}
								}" />
								<Text text="{
										path: 'vermSel>VaToOb/MaKosten',
										type: 'sap.ui.model.type.Float',
										formatOptions: {
											minIntegerDigits : 2, 
											minFractionDigits : 2, 
											groupingEnabled : true, 
											groupingSeparator : '.', 
											decimalSeparator : ',' 
										}
								}" />
								
							</cells>
						</ColumnListItem>
					</items>
				</Table>

			</Panel>

		
		
		</content>
	</Page>
</core:View>