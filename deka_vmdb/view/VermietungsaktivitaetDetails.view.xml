<core:View 
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
	controllerName="ag.bpc.Deka.controller.VermietungsaktivitaetDetails" >
	
	<Page id="idVermietungsaktivitaetDetails" title="{i18n>VERM_DET_TITLE}" class="sapUiFioriObjectPage" showNavButton="true" navButtonPress="onBack" >

        <headerContent>
			<Button icon="sap-icon://edit" text="{i18n>BEARBEITEN}" visible="{= (${form>/modus} === 'show') &amp;&amp; (${form>/vermietungsaktivitaet/Editable}) }" press="onBearbeitenButtonPress" />
		</headerContent>
                
		<content>
            
            <FlexBox>
                <items>
                    <FlexBox>
                        <items>
                            <ObjectHeader title="{i18n>VERMIETUNGSAKTIVITAET} {form>/vermietungsaktivitaet/VaId}" >
                                <attributes>
                                    <ObjectAttribute title="{i18n>KATEGORIE}" text="{= ${text>/kategorie}[${form>/vermietungsaktivitaet/Kategorie}] }" />
                                    <ObjectAttribute title="{i18n>BUCHUNGSKREIS}" text="{form>/vermietungsaktivitaet/Bukrs}" />
                                    <ObjectAttribute title="{i18n>WIRTSCHAFTSEINHEIT}" text="{form>/vermietungsaktivitaet/WeId}" />
                                    <ObjectAttribute title="{i18n>BEZEICHNUNG}" text="{form>/vermietungsaktivitaet/VaToWe/Plz} {form>/vermietungsaktivitaet/VaToWe/Ort} {form>/vermietungsaktivitaet/VaToWe/StrHnum}" />
                                </attributes>
                            </ObjectHeader>
                        </items>
                        <layoutData>
							<FlexItemData growFactor="1" />
						</layoutData>
                    </FlexBox>
                    
                    <FlexBox justifyContent="End">
                        <items>
                            <List items="{form>/vermietungsaktivitaet/VaToMap}" growing="true" growingThreshold="3" class="sapUiContentPadding" backgroundDesign="Transparent" showSeparators="None" noDataText=" " >
                                <StandardListItem 
                                    type="Active"
                                    title="{form>KeId}"
                                    icon="{= ${form>Aktiv} ? 'sap-icon://accept' : 'sap-icon://decline' }"
                                    iconDensityAware="false"
                                    iconInset="false" 
                                    press="onMappingPressed">
                                </StandardListItem>
                            </List>
                        </items>
                        <layoutData>
							<FlexItemData growFactor="1" />
						</layoutData>
                    </FlexBox>
                </items>
            </FlexBox>


            <!--
            <ScrollContainer
                horizontal="true"
                focusable="false"
                class="sapUiSmallMarginBeginEnd">
            </ScrollContainer>
            -->
            
            <Table id="mietflaechenangabenTable" mode="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') ? 'MultiSelect' : 'None' }" items="{form>/vermietungsaktivitaet/VaToOb}">

                <headerToolbar>
                    <Toolbar>
                        <Title text="{i18n>MIETFLAECHENANGABEN}" level="H2"/>
                        <ToolbarSpacer />
                        <Text text="{form>/viewsettings/zeitspanneSelected/Text} | {form>/viewsettings/waehrungSelected/Nach} | {form>/viewsettings/flaecheneinheitSelected/Nach}" />
                        <Button icon="sap-icon://action-settings" press="handleTableSettingsButton" visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit')}" />
                    </Toolbar>
                </headerToolbar>
                
                <columns>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>MIETFLAECHE}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>BEZEICHNUNG}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>NUTZUNGSART}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>NUTZUNGSART} {i18n>ALTERNATIV}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>HAUPTNUTZFLAECHE} / {i18n>STUECK}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>MIETFLAECHE} {i18n>ALTERNATIV}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>MIETFLAECHENSPLIT}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>MARKTUEBLICHE_MIETE} in {form>/viewsettings/waehrungSelected/Nach} / {form>/viewsettings/flaecheneinheitSelected/Nach} {i18n>ODER_STUECK}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{= ((${form>/modus} === 'new') || (${form>/modus} === 'edit')) ? '*' : '' }{i18n>ANGEBOTSMIETE} in {form>/viewsettings/waehrungSelected/Nach} / {form>/viewsettings/flaecheneinheitSelected/Nach}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>GRUNDAUSBAUKOSTEN} in {form>/viewsettings/waehrungSelected/Nach} / {form>/viewsettings/flaecheneinheitSelected/Nach}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>MIETERAUSBAUKOSTEN} in {form>/viewsettings/waehrungSelected/Nach} / {form>/viewsettings/flaecheneinheitSelected/Nach}" />
                    </Column>
                </columns>
                
                <items>
                    <ColumnListItem vAlign="Middle">
                        <cells>
                            <Text text="{form>Bukrs}/{form>WeId}/{form>MoId}" />
                            <Text text="{form>Bezei}" />
                            <Text text="{= ${text>/nutzungsart}[${form>Nutzart}] }" />
                            <Select selectedKey="{form>NutzartAlt}" items="{path: 'form>/nutzungsarten', templateShareable: true}" enabled="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" change="onNutzartAltChange">
                                <items>
                                    <core:Item key="{form>NaId}" text="{form>TextSh}" />
                                </items>
                            </Select>
                            <Text text="{= (${form>HnflUnit} === 'ST') ? (${form>Hnfl} + ' ' + ${form>HnflUnit}) : ((Math.round(${form>Hnfl} * ${form>/viewsettings/flaecheneinheitSelected/Multiplikator} * 100) / 100) + ' ' + ${form>/viewsettings/flaecheneinheitSelected/Nach}) }" type="model.CustomNumberType"  />
                            <Input value="{ path: 'form>HnflAlt', type: 'model.CustomNumberType'}" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                            <CheckBox selected="{form>MfSplit}" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                            <Input value="{= Math.round(${form>NhMiete} * ${form>/viewsettings/waehrungSelected/Multiplikator} * 100) / 100 }" type="model.CustomNumberType" editable="false" />
                            <Input value="{ path: 'form>AnMiete', type: 'model.CustomNumberType' }" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" type="Float" />
                            <Input value="{ path: 'form>GaKosten', type: 'model.CustomNumberType' }" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" enabled="{= (${form>Nutzart} !== '0700') &amp;&amp; (${form>Nutzart} !== '0750') &amp;&amp; (${form>NutzartAlt} !== '0700') &amp;&amp; (${form>NutzartAlt} !== '0750') }" />
                            <Input value="{ path: 'form>MaKosten', type: 'model.CustomNumberType' }" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" enabled="{= (${form>Nutzart} !== '0700') &amp;&amp; (${form>Nutzart} !== '0750') &amp;&amp; (${form>NutzartAlt} !== '0700') &amp;&amp; (${form>NutzartAlt} !== '0750') }" />
                        </cells>
                    </ColumnListItem>
                    
                </items>
            </Table>

            <MessageStrip id="mietflaechenangabenErrorBox" type="Error" class="sapUiSmallMargin" visible="false" />

            <FlexBox class="sapUiSmallMargin" visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }">
            
                <items>
                    <FlexBox>
                        <items>
                            <Button text="{i18n>KONDITIONENEINIGUNG_HINZUFUEGEN}" icon="sap-icon://sys-add" press="onKonditioneneinigungHinzufuegenButtonPress" visible="{= ${form>/vermietungsaktivitaet/Kategorie} === '01' }" class="sapUiSmallMarginEnd" />
                            <Button text="{i18n>KONDITIONENEINIGUNG_ENTFERNEN}" icon="sap-icon://sys-minus" press="onKonditioneneinigungLoeschenButtonPress" visible="{= ${form>/vermietungsaktivitaet/Kategorie} === '01' }" />
                            <Button text="{i18n>MIETFLAECHE_HINZUFUEGEN}" icon="sap-icon://sys-add" press="onMietflaechenAngabeHinzufuegenButtonPress" visible="{= ${form>/vermietungsaktivitaet/Kategorie} !== '01' }" class="sapUiSmallMarginEnd" />
                            <Button text="{i18n>MIETFLAECHE_ENTFERNEN}" icon="sap-icon://sys-minus" press="onMietflaechenAngabenLoeschenButtonPress" visible="{= ${form>/vermietungsaktivitaet/Kategorie} !== '01' }" />
                        </items>
                        <layoutData>
							<FlexItemData growFactor="1" />
						</layoutData>
                    </FlexBox>
                    
                    <FlexBox justifyContent="End">
                        <items>
                            <Button text="{i18n>VERTEILEN}" icon="sap-icon://overview-chart" press="onAusbaukostenVerteilenButtonPress" />
                        </items>
                        <layoutData>
							<FlexItemData growFactor="1" />
						</layoutData>
                    </FlexBox>
                
                </items>
            </FlexBox>
                    
            <f:SimpleForm
                title="{i18n>GEMEINSAME_ANGABEN}"
                minWidth="1024"
                maxContainerCols="2"
                editable="true"
                layout="ResponsiveGridLayout"
                labelSpanL="3"
                labelSpanM="3"
                emptySpanL="0"
                emptySpanM="0"
                columnsL="1"
                columnsM="1" >

                <f:content>
                    
                    <Label text="{i18n>VERMIETUNGSART}" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <Select id="vermietungsart" selectedKey="{form>/vermietungsaktivitaet/Vermietungsart}" items="{form>/vermietungsarten}" enabled="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }"  class="sapUiSmallMarginBottom">
                        <items>
                            <core:Item key="{form>key}" text="{form>text}" />
                        </items>
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Select>

                    <Label text="{i18n>DIENSTLEISTER}" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" visible="{= ${form>/vermietungsaktivitaet/Kategorie} === '03' }" />
                    <Input id="idDienstleister" value="{form>/vermietungsaktivitaet/Dienstleister}" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" visible="{= ${form>/vermietungsaktivitaet/Kategorie} === '03' }" class="sapUiSmallMarginBottom">
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>
                    <Button text="{i18n>DIENSTLEISTER_WAEHLEN}" visible="{= (${form>/vermietungsaktivitaet/Kategorie} === '03')  &amp;&amp; ((${form>/modus} === 'new') || (${form>/modus} === 'edit')) }" press="onDienstleisterAuswahlButtonPress">
                        <layoutData>
                            <l:GridData span="L3 M3 S12" />
                        </layoutData>
                    </Button>

                    <Label text="{i18n>DEBITORENNUMMER}" />
                    <Input id="idDebitor" value="{form>/vermietungsaktivitaet/Debitor}" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>
                    <Button text="{i18n>DEBITOR_AUSWAEHLEN}" visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" press="onDebitorAuswahlButtonPress" >
                        <layoutData>
                            <l:GridData span="L3 M3 S12" />
                        </layoutData>
                    </Button>

                    <Label text="{i18n>MIETERNAME}" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <Input id="idMietername" value="{form>/vermietungsaktivitaet/Debitorname}" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" class="sapUiSmallMarginBottom">
                        <layoutData>
							<l:GridData span="L6 M6 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>MIETBEGINN}" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <DatePicker id="idMietbeginn" dateValue="{form>/vermietungsaktivitaet/Mietbeginn}" placeholder=" " displayFormat="short" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }">
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </DatePicker>

                    <Label text="{i18n>LAUFZEIT_BIS_1ST_BREAK} {i18n>IN_MONATEN}" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <Input id="idLzFirstbreak" value="{ path: 'form>/vermietungsaktivitaet/LzFirstbreak', type: 'model.CustomNumberType'}"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" class="sapUiSmallMarginBottom" >                        
                        <layoutData>
                            <l:GridData span="L3 M3 S12" />
                        </layoutData>
                    </Input>

                    <Label text="{i18n>MIETFREIE_ZEIT} {i18n>IN_MONATEN}" />
                    <Input id="idMzMonate" value="{ path: 'form>/vermietungsaktivitaet/MzMonate', type: 'model.CustomNumberType'}" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>ERSTER_MONAT_MIETFREI}" />
                    <DatePicker id="idMzErsterMonat" dateValue="{form>/vermietungsaktivitaet/MzErsterMonat}" placeholder=" " displayFormat="MM/yyyy" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }">
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </DatePicker>

                    <Label text="{i18n>ANZAHL_WIEDERHOLUNGEN} {i18n>IN_JAHREN}" />
                    <Input id="idMzAnzahlJ" value="{ path: 'form>/vermietungsaktivitaet/MzAnzahlJ', type: 'model.CustomNumberType'}" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" class="sapUiSmallMarginBottom" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>MAKLERKOSTEN} {i18n>IN_MONATSMIETEN}" />
                    <Input id="idMkMonate" value="{ path: 'form>/vermietungsaktivitaet/MkMonate', type: 'model.CustomNumberType'}"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>MAKLERKOSTEN} ({i18n>ABSOLUT}) in {form>/viewsettings/waehrungSelected/Nach}" />
                    <Input id="idMkAbsolut" value="{ path: 'form>/vermietungsaktivitaet/MkAbsolut', type: 'model.CustomNumberType' }"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" class="sapUiSmallMarginBottom" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>BERATUNGSKOSTEN} {i18n>IN_MONATSMIETEN}" />
                    <Input id="idBkMonate" value="{ path: 'form>/vermietungsaktivitaet/BkMonate', type: 'model.CustomNumberType' }"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>BERATUNGSKOSTEN} ({i18n>ABSOLUT}) in {form>/viewsettings/waehrungSelected/Nach}" />
                    <Input id="idBkAbsolut" value="{ path: 'form>/vermietungsaktivitaet/BkAbsolut', type: 'model.CustomNumberType' }"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" class="sapUiSmallMarginBottom" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <!-- Sonstige Kosten -->
                    <Label text="{i18n>SONSTIGE_KOSTEN} in {form>/viewsettings/waehrungSelected/Nach}" />
                    <Select enabled="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" selectedKey="{form>/vermietungsaktivitaet/ArtKosten}" items="{form>/kostenarten}">
                        <items>
                            <core:Item key="{form>KoId}" text="{form>Txtmd}" />
                        </items>
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Select>
                    <Input id="idSonstK" value="{ path: 'form>/vermietungsaktivitaet/SonstK', type: 'model.CustomNumberType' }"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }">
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <!-- Sonstige Erträge  -->
                    <Label text="{i18n>SONSTIGE_ERTRAEGE} in {form>/viewsettings/waehrungSelected/Nach}" />
                    <Select enabled="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" selectedKey="{form>/vermietungsaktivitaet/ArtErtrag}" items="{form>/ertragsarten}">
                        <items>
                            <core:Item key="{form>ErId}" text="{form>Txtmd}" />
                        </items>
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Select>
                    <Input id="idSonstE" value="{ path: 'form>/vermietungsaktivitaet/SonstE', type: 'model.CustomNumberType' }"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" class="sapUiSmallMarginBottom">
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>ERSTER_MONAT_VERTEILUNG_AUSBAUKOSTEN}" />
                    <DatePicker id="idAkErsterMonat" dateValue="{form>/vermietungsaktivitaet/AkErsterMonat}" placeholder=" " displayFormat="MM/yyyy" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </DatePicker>

                    <Label text="{i18n>VERTEILUNG_AUSBAUKOSTEN_MONATE}" />
                    <Input id="idAkAnzahlM" value="{ path: 'form>/vermietungsaktivitaet/AkAnzahlM', type: 'model.CustomNumberType'}"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" class="sapUiSmallMarginBottom" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>POENALE} in {form>/viewsettings/waehrungSelected/Nach}" />
                    <Input id="idPoenale" value="{ path: 'form>/vermietungsaktivitaet/Poenale', type: 'model.CustomNumberType'}"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>INDEXWEITERGABE} {i18n>IN_PROZENT}" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <Input id="idIdxWeitergabe" value="{ path: 'form>/vermietungsaktivitaet/IdxWeitergabe', type: 'model.CustomNumberType'}"  editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" >
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Input>

                    <Label text="{i18n>PLANUNGSRELEVANZ}" />
                    <CheckBox id="idPLRelevant" selected="{form>/vermietungsaktivitaet/PLRelevant}" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" >
                        <layoutData>
							<l:GridData span="L1 M1 S12" />
						</layoutData>
                    </CheckBox>
                    
                </f:content>

			</f:SimpleForm>

            <f:SimpleForm
                title="{i18n>SONSTIGE_ANGABEN}"
                minWidth="1024"
                maxContainerCols="2"
                editable="true"
                layout="ResponsiveGridLayout"
                labelSpanL="3"
                labelSpanM="3"
                emptySpanL="0"
                emptySpanM="0"
                columnsL="1"
                columnsM="1">

                <f:content>
                    
                    <Label text="{i18n>STATUS}" />
                    <Select id="selectStatus" selectedKey="{form>/vermietungsaktivitaet/Status}" width="100%" enabled="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" items="{form>/statuswerte}" change="onStatusSelektionChange" >
                        <items>
                            <core:Item key="{form>Stid}" text="{form>Txtmd}" />
                        </items>
                        <layoutData>
							<l:GridData span="L3 M3 S12" />
						</layoutData>
                    </Select>
                    
                    <Label text="{i18n>ANMERKUNG}" />
                    <Select id="idAnmerkung" selectedKey="{form>/vermietungsaktivitaet/Anmerkung}" width="100%" enabled="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" items="{form>/anmerkungen}" >
                        <items>
                            <core:Item key="{form>Id}" text="{form>Txtmd}" />
                        </items>
                        <layoutData>
							<l:GridData span="L6 M6 S12" />
						</layoutData>
                    </Select>
                    
                    <Label text="{i18n>BEMERKUNG}" />
                    <TextArea value="{form>/vermietungsaktivitaet/Bemerkung}" rows="4" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />

                </f:content>

			</f:SimpleForm>

            <Table>
                <headerToolbar>
                    <Toolbar>
                        <Title text="{i18n>MIETE_UND_KOSTEN}" level="H2"/>
                    </Toolbar>
                </headerToolbar>
                
                <columns>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>BEZEICHNUNG}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>LAUFZEIT}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Right">
                        <Text text="{i18n>VERMIETUNGSAKTIVITAET}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Right">
                        <Text text="{i18n>KONDITIONENEINIGUNG}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Right">
                        <Text text="{i18n>DIFFERENZ}" />
                    </Column>
                </columns>
                
                <items>
                    <ColumnListItem>
                        <cells>
                            <Text text="{i18n>MIETE_GESAMT}" />
                            <Text text="{
                                    path: 'form>/vermietungsaktivitaet/LaufzeitKe',
                                    type: 'sap.ui.model.type.Integer',
                                    formatOptions: {
                                        maxIntegerDigits: 5
                                    }
                            }" />
                            <Text text="{ path: 'form>/vermietungsaktivitaet/GesErtrag', type: 'model.CustomNumberType'} {form>/viewsettings/waehrungSelected/Nach}" />
                            <Text text="{ path: 'form>/vermietungsaktivitaet/GesKeErtrag', type: 'model.CustomNumberType'} {form>/viewsettings/waehrungSelected/Nach}" />
                            <Text text="{= (Math.round(${form>/vermietungsaktivitaet/GesErtrag} * 100 - ${form>/vermietungsaktivitaet/GesKeErtrag} * 100) / 100) + ' ' + ${form>/viewsettings/waehrungSelected/Nach} }">
                                <customData>
                                    <core:CustomData key="numberstate" value="positive" writeToDom="{= (${form>/vermietungsaktivitaet/GesErtrag} - ${form>/vermietungsaktivitaet/GesKeErtrag}) &gt;= 0 }" />
                                    <core:CustomData key="numberstate" value="negative" writeToDom="{= (${form>/vermietungsaktivitaet/GesErtrag} - ${form>/vermietungsaktivitaet/GesKeErtrag}) &lt; 0 }" />
                                </customData>
                            </Text>
                        </cells>
                    </ColumnListItem>
                    
                    <ColumnListItem>
                        <cells>
                            <Text text="{i18n>KOSTEN_GESAMT}" />
                            <Text text="{
                                    path: 'form>/vermietungsaktivitaet/LaufzeitKe',
                                    type: 'sap.ui.model.type.Integer',
                                    formatOptions: {
                                        maxIntegerDigits: 5
                                    }
                            }" />
                            <Text text="{ path: 'form>/vermietungsaktivitaet/GesKosten', type: 'model.CustomNumberType'} {form>/viewsettings/waehrungSelected/Nach}" />
                            <Text text="{ path: 'form>/vermietungsaktivitaet/GesKeKosten', type: 'model.CustomNumberType'} {form>/viewsettings/waehrungSelected/Nach}" />
                            <Text text="{= (Math.round(${form>/vermietungsaktivitaet/GesKosten} * 100 - ${form>/vermietungsaktivitaet/GesKeKosten} * 100) / 100) + ' ' + ${form>/viewsettings/waehrungSelected/Nach} }">
                                <customData>
                                    <core:CustomData key="numberstate" value="negative" writeToDom="{= (${form>/vermietungsaktivitaet/GesKosten} - ${form>/vermietungsaktivitaet/GesKeKosten}) &gt; 0 }" />
                                    <core:CustomData key="numberstate" value="positive" writeToDom="{= (${form>/vermietungsaktivitaet/GesKosten} - ${form>/vermietungsaktivitaet/GesKeKosten}) &lt;= 0 }" />
                                </customData>
                            </Text>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

		</content>
        
        <footer>
			<OverflowToolbar>

				<Button text="{= ${form>/vermietungsaktivitaet/Favorit} ? ${i18n>FAVORIT_ENTFERNEN} : ${i18n>FAVORIT_HINZUFUEGEN} }" 
                        icon="{= ${form>/vermietungsaktivitaet/Favorit} ? 'sap-icon://favorite' : 'sap-icon://unfavorite' }" 
                        press="onFavoritButtonPress" 
                        visible="{= (${form>/modus} === 'show') }" />
                
                <Button text="{i18n>DRUCKEN}" 
                        icon="sap-icon://print" 
                        press="onDruckenButtonPress" 
                        visible="{= (${form>/modus} === 'show') }" />
                
                <ToolbarSpacer visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                
                <Button text="{i18n>SPEICHERN}"
                        icon="sap-icon://accept"
                        type="Accept"
                        press="onSpeichernButtonPress"
                        visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }">
                    <layoutData><OverflowToolbarLayoutData moveToOverflow="false" /></layoutData>
                </Button>

                <Button text="{i18n>ABBRECHEN}"
                        icon="sap-icon://decline"
                        type="Reject"
                        press="onAbbrechenButtonPress"
                        visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }">
                    <layoutData><OverflowToolbarLayoutData moveToOverflow="false" /></layoutData>
                </Button>

			</OverflowToolbar>
		</footer>

	</Page>
	
</core:View>