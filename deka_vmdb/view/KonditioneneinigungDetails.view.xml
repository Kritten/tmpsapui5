<mvc:View
    controllerName="ag.bpc.Deka.controller.KonditioneneinigungDetails"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc">
      
	<Page title="Konditioneneinigung (Anzeigen / Bearbeiten)" class="sapUiFioriObjectPage" >
    <!-- this CSS class add a standard spacing to all the page content -->
    
        <headerContent>
			<Button icon="sap-icon://edit" text="Bearbeiten" visible="{= ${form>/modus} === 'show' }" press="onBearbeitenButtonPress" />
		</headerContent>
                
		<content>
            
			<ObjectHeader title="Konditioneneinigung" number="{form>/konditioneneinigung/id}" >
				<attributes>
					<ObjectAttribute title="Buchungskreis" text="{form>/konditioneneinigung/buchungskreis}" />
					<ObjectAttribute title="Wirtschaftseinheit" text="{form>/konditioneneinigung/wirtschaftseinheit}" />
                    <ObjectAttribute title="Bezeichnung" text="{form>/konditioneneinigung/bezeichnung}" />
				</attributes>
			</ObjectHeader>
            
            <Table id="mietflaechenangabenTable" mode="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') ? 'MultiSelect' : 'None' }" items="{form>/konditioneneinigung/mietflaechenangaben}">
                
                <headerToolbar>
                    <Toolbar>
                        <Title text="Mietflächen-Angaben" level="H2"/>
                        <ToolbarSpacer />
                        <Button icon="sap-icon://action-settings" press="handleTableSettingsButton" />
                    </Toolbar>
                </headerToolbar>
                
                <columns>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Mietfläche" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Bezeichnung" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Nutzungsart" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Hauptnutzfläche" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Nachhaltige Miete in Währung/FE" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Angebotsmiete in Währung/FE" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Grundausbaukosten in Währung/FE" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Mieterausbaukosten in Währung/FE" />
                    </Column>
                </columns>
                
                <items>
                    <ColumnListItem vAlign="Middle">
                        <cells>
                            <Text text="{form>mietflaeche}" />
                            <Text text="{form>bezeichnung}" />
                            <Text text="{form>nutzungsart}" />
                            <Text text="{form>hauptnutzflaeche}" />
                            <Text text="{form>nachhaltigeMiete}" />
                            <Input value="{form>angebotsmiete}" type="Number" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                            <Input value="{form>grundbaukosten}" type="Number" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                            <Input value="{form>mieterausbaukosten}" type="Number" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                        </cells>
                    </ColumnListItem>
                    
                </items>
            </Table>
            
            <MessageStrip id="mietflaechenangabenErrorBox" type="Error" class="sapUiSmallMargin" visible="false" />
                
            <FlexBox class="sapUiSmallMargin" visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }">
            
                <items>
                    <FlexBox>
                        <items>
                            <Button text="Mietflächen hinzufügen" icon="sap-icon://sys-add" press="onMietflaechenAngabeHinzufuegenButtonPress" class="sapUiSmallMarginEnd" />
                            <Button text="Mietflächen entfernen" icon="sap-icon://sys-minus" press="onMietflaechenAngabenLoeschenButtonPress" />
                        </items>
                        <layoutData>
							<FlexItemData growFactor="1" />
						</layoutData>
                    </FlexBox>
                    
                    <FlexBox justifyContent="End">
                        <items>
                            <Button text="Ausbaukosten verteilen" icon="sap-icon://overview-chart" press="onAusbaukostenVerteilenButtonPress" />
                        </items>
                        <layoutData>
							<FlexItemData growFactor="1" />
						</layoutData>
                    </FlexBox>
                
                </items>
            </FlexBox>
                    
            <f:SimpleForm
                title="Gemeinsame Angaben"
                minWidth="1024"
                maxContainerCols="2"
                editable="true"
                layout="ResponsiveGridLayout"
                labelSpanL="6"
                labelSpanM="2"
                emptySpanL="0"
                emptySpanM="0"
                columnsL="2"
                columnsM="2" >

                <f:content>
                    <core:Title text="" />
                    
                    <Label text="Mietbeginn" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <DatePicker id="dateMietbeginn" placeholder=" " valueFormat="yyyy-MM-dd" displayFormat="long" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    
                    <Label text="Laufzeit bis 1st break option in Monaten" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <Input id="laufzeitBis1stBreak" value="60" type="Number" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    
                    <Label text="Gültigkeit Konditioneneinigung" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <DatePicker id="dateGueltigkeitKonditioneneinigung" placeholder=" " valueFormat="yyyy-MM-dd" displayFormat="long" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    
                    <core:Title text="" />
                    
                    <Label text="Mietfreie Zeiten in Monaten" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <Input id="mietfreieZeitenInMonaten" value="6" type="Number" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    
                    <Label text="Maklerkosten in Monatsmieten" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <Input id="maklerkostenInMonatsmieten" value="3" type="Number" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    
                    <Label text="Beratungskosten in Monatsmieten" required="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    <Input id="beratungskostenInMonatsmieten" value="1" type="Number" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    
                </f:content>

			</f:SimpleForm>

            <f:SimpleForm
                title="Sonstiges"
                minWidth="1024"
                maxContainerCols="2"
                editable="true"
                layout="ResponsiveGridLayout"
                labelSpanL="3"
                labelSpanM="3"
                emptySpanL="0"
                emptySpanM="0"
                columnsL="1"
                columnsM="1" >

                <f:content>
                    <core:Title text="" />
                    
                    <Label text="Status" />
                    <Select width="100%" enabled="false" >
                        <items>
                            <core:Item text="Konditioneneinigung" />
                        </items>
                    </Select>
                    
                    <Label text="Anmerkung" />
                    <Select width="100%" enabled="false" >
                        <items>
                            <core:Item text="Mietfläche in Auswahlool mit Konkurrenzobjekten / Interessent prüft auch Alternativobjekt am Markt" />
                        </items>
                    </Select>
                    
                    <Label text="Bemerkung" />
                    <TextArea value="Interessent kann sich noch nicht entscheiden" rows="4" editable="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                    
                </f:content>

			</f:SimpleForm>

            <Table>
                <headerToolbar>
                    <Toolbar>
                        <Title text="Miete und Kosten" level="H2"/>
                    </Toolbar>
                </headerToolbar>
                
                <columns>
                    <Column minScreenWidth="Tablet" demandPopin="true">
                        <Text text="Bezeichnung" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Right">
                        <Text text="Vermietungsaktivität" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Right">
                        <Text text="Konditioneneinigung" />
                    </Column>
                </columns>
                
                <items>
                    <ColumnListItem>
                        <cells>
                            <Text text="Miete gesamt" />
                            <Text text="{form>/konditioneneinigung/mieteGesamt/vermietungsaktivitaet}" />
                            <Text text="{form>/konditioneneinigung/mieteGesamt/konditioneneinigung}" />
                        </cells>
                    </ColumnListItem>
                    
                    <ColumnListItem>
                        <cells>
                            <Text text="Kosten gesamt" />
                            <Text text="{form>/konditioneneinigung/kostenGesamt/vermietungsaktivitaet}" />
                            <Text text="{form>/konditioneneinigung/kostenGesamt/konditioneneinigung}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

		</content>
        
        <footer>
			<OverflowToolbar>
				<Button text="Zur Genehmigung vorlegen" icon="sap-icon://request" />
				<Button text="Genehmigen/Reaktivieren" icon="sap-icon://accept" />
                <Button text="Genehmigung zurückziehen" icon="sap-icon://undo" />
                <Button text="Drucken" icon="sap-icon://print" />
                <ToolbarSpacer visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" />
                <Button visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" text="Speichern" icon="sap-icon://accept" type="Accept" press="onSpeichernButtonPress" >
                    <layoutData><OverflowToolbarLayoutData moveToOverflow="false" /></layoutData>
                </Button>
                <Button visible="{= (${form>/modus} === 'new') || (${form>/modus} === 'edit') }" text="Abbrechen" icon="sap-icon://decline" type="Reject" press="onAbbrechenButtonPress" >
                    <layoutData><OverflowToolbarLayoutData moveToOverflow="false" /></layoutData>
                </Button>
			</OverflowToolbar>
		</footer>

        
	</Page>
            
</mvc:View>

